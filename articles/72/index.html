<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>React Native on Android, changing app name, package name and version code - Saumya
    </title>
    <link rel="alternate" href="https://saumya.github.io/ray/feed.xml" type="application/rss+xml" title="Where there is a will, there is a way.">
    <link rel="stylesheet" href="https://saumya.github.io/ray/css/main.css">
    <link rel="stylesheet" href="https://saumya.github.io/ray/css/saumya.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>React Native on Android, changing app name, package name and version code</h1>
        <p class="author">Written by - <span class="author"><a href="mailto:2saumyaray@gmail.com">Saumya</a></span>
          <p class="date">11 November 2016</p>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>There are things one may need to change in the release build for Android. 
Things like <code>App Name</code> are a case here. Suppose you start developing by initialising to a generic <code>App Name</code> and at the time of release one need to change to the actual <code>App Name</code>. Same goes for <code>package name</code>, which is visible in <code>Google Play Store</code> and as well in the <code>App details</code> of the Android phone. 
<span class="more"></span></p>
<h1 id="generate-with-correct-names">Generate with correct<span class="widont">&nbsp;</span>names</h1>
<p>Before we move forward and change things in the final version of the app. There is a way to fix this from the beginning. Generate a <code>react native</code> app with a proper package name with the command<span class="widont">&nbsp;</span>below.</p>
<pre><code>react-native init MyAwesome -package &quot;com.saumya.app&quot;</code></pre><p>But however if at all you have initialised the app<span class="widont">&nbsp;</span>as  </p>
<pre><code>react-native init RnApp</code></pre><p>then the option remains to hack things in the<span class="widont">&nbsp;</span>end.           </p>
<p>So read on.</p>
<h3 id="app-name">App Name</h3>
<p>Lets start with <code>App Name</code>. This is the name thats visible in users screen. To change this name, you have to change it in <code>strings.xml</code>.</p>
<p>Full path is </p>
<pre><code>android/app/src/main/res/values/strings.xml</code></pre><p>and the entry<span class="widont">&nbsp;</span>is </p>
<pre><code>&lt;string name=&quot;app_name&quot;&gt;My Android App&lt;/string&gt;</code></pre><h3 id="package-name">Package name</h3>
<p>This is shown in the <code>Play Store</code> and the details in <code>About App</code> of your Android device. This should say something like <code>com.myapp</code> or <code>com.company.appname</code> or something<span class="widont">&nbsp;</span>similar. </p>
<p>To change this, you have to edit four<span class="widont">&nbsp;</span>files. </p>
<ul>
<li>android/app/src/main/java/com/reactNativeSampleApp/MainActivity.java</li>
<li>android/app/src/main/java/com/reactNativeSampleApp/MainApplication.java</li>
<li>android/app/src/main/AndroidManifest.xml ( optional as per my experience<span class="widont">&nbsp;</span>)</li>
<li>android/app/build.gradle</li>
</ul>
<p>The first two Java files have the package name as something like<span class="widont">&nbsp;</span>below.</p>
<pre><code>package com.ReactNativeApp;</code></pre><p>Change it to your desired package<span class="widont">&nbsp;</span>name.</p>
<pre><code>package com.myComp.MyApp;</code></pre><p>At this point it should be required to make the physical changes to the Java files in the proper package. But somehow it does not work! Rather it breaks the build. Just keep in mind, that we have changed the <code>package</code> names and that should reflect in the actual package. Incase the builds break, you know where to<span class="widont">&nbsp;</span>find.</p>
<h3 id="version-code">Version Code</h3>
<p>This is a number which Google Playstore recognises and does not allow to upload another <span class="caps">APK</span> having the same value. Just think of this as build number. The same build can not be uploaded twice. So the point is everytime, you make a build or release-apk, you must have a different number or more specifically incremental number. If your first version of the application has a version code of 5, then the second version must have a version code which is more than<span class="widont">&nbsp;</span>5. </p>
<p>Along with version code, you might need to update the <code>version name</code> also. Which is the version number of your application and visible in Google Play<span class="widont">&nbsp;</span>Store. </p>
<p>While <code>version code</code> is used by <code>Play Store</code> to manage your <span class="caps">APK</span>, <code>version name</code> is used by <code>Play Store</code> to notify user that an update to your app is<span class="widont">&nbsp;</span>available.</p>
<p>To change these two values, you need to<span class="widont">&nbsp;</span>edit </p>
<ul>
<li>android/app/build.gradle</li>
<li>android/app/src/main/AndroidManifest.xml ( optional as per my experience<span class="widont">&nbsp;</span>)</li>
</ul>
<p>These settings are taken from <code>build.gradle</code> while making a build with <code>gradle</code> but for the purpose of sanity, its better to change in both of the files<span class="widont">&nbsp;</span>above. </p>
<p><a href="https://github.com/saumya/aRnDot36One/commit/7c1855bc1e5eee29294278e5a849ef9693730902">Here is a reference<span class="widont">&nbsp;</span>change</a>.</p>
<h3 id="making-the-release-build">Making the release<span class="widont">&nbsp;</span>build</h3>
<p>Finally making a release build is done from inside the <code>android</code> folder of the <code>React Native</code> application. The commands are as<span class="widont">&nbsp;</span>below.</p>
<pre><code>./gradlew clean
./gradlew assembleRelease</code></pre><p>Cheers</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="https://saumya.github.io/ray/">&laquo; Full blog</a></div>
        <section class="about"><p><a href="https://saumya.github.io/">Saumya</a> is an iternal seeker.</p>
<p>A maker of things and curious about everything. Continuous learning is, what fuels him. This blog itself, reflects one of many things he is trying at all the time.</p>
<p>Talk to <a href="https://twitter.com/saumya">@saumya</a> on Twitter. </p>
<span class="nav"><a href="https://saumya.github.io/ray/">Blog Home</a><a href="https://saumya.github.io/ray/archive.html">Archives</a><a href="https://saumya.github.io/ray/feed.xml">Feed</a></span>
        </section>
        <section class="copy">
          <p>&copy; 2020 Saumya Ray &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
            <p><a href="https://github.com/saumya/wintersmithThemes/tree/master/2019">Theme 2019</a></p>
          </p>
        </section>
      </div>
    </footer>
  </body>
</html>